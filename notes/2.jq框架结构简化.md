jq2.x 相比较于 1.x 版本，去除了 IE6/7/8 的支持，这也使得其中减少了很多关于兼容性的代码，便于我们去理解。

jQuery 的整个源码都被包含在这个匿名函数中。
`(function(window,undefined){})(window)`
这是一个自执行的匿名函数，它的好处在于可以把代码块中所有的变量都变成局部变量，这样就不会造成对全局变量的一个污染，导致代码冲突。

举个例子

```
(function(){
  var a = 10;
  function $(){
    console.log(a);
  }
})();
console.log(a); // 调不到 引用错误 ReferenceError:a is not defined
$(); // 调不到 ReferenceError
```

这样一来，外部调不到内部局部变量了，这个时候就需要对外提供使用内部局部变量或方法的接口

```
(function(){
  var a = 10;
  function $(){
    console.log(a);
  }
  window.$ = $; // 将函数挂载到全局window上
})()
$(); // 10
```

在 jQuery 中就是这样实现的，在前面(21,94)行，jQuery 定义了一些变量和函数，在 8826 行

```
// (8826)
window.jQuery = window.$ = jQuery;
```

将 jQuery 挂载到了 window 上，这样就使得外部可以访问到 jQuery 内部变量和方法

接下来，在(96,283)行

```
jQuery.fn = jQuery.prototype = {};
```

此处 jQuery.prototype 表明 jQuery 是基于面向对象的对象，后面就是给 jQuery 对象添加属性和方法。

对于面向对象，举个例子

```
// 常见的写法
$('#div').css();
$('.container').html();
// 类似于
var arr = new Array();
arr.push();
arr.sort();
// 其中 $('#div') // 是一个函数调用，但是其执行结果是一个对象

```
